<form #registerForm="ngForm" (ngSubmit)="onSubmit()" class="container mt-5">
  <div class="mb-3">
    <label for="name" class="form-label">Name:</label>
    <input type="text" id="name" name="name" [(ngModel)]="userModel.name" class="form-control" required minlength="4">
    <div *ngIf="registerForm.submitted && registerForm.controls['name']?.invalid" class="text-danger">
      <small *ngIf="registerForm.controls['name']?.errors?.['required']">Name is required.</small>
      <small *ngIf="registerForm.controls['name']?.errors?.['minlength']">Name must be at least 4 characters long.</small>
    </div>
  </div>
  
  <div class="mb-3">
    <label for="email" class="form-label">Email:</label>
    <input type="email" id="email" name="email" [(ngModel)]="userModel.email" class="form-control" required email>
    <div *ngIf="registerForm.submitted && registerForm.controls['email']?.invalid" class="text-danger">
      <small *ngIf="registerForm.controls['email']?.errors?.['required']">Email is required.</small>
      <small *ngIf="registerForm.controls['email']?.errors?.['email']">Invalid email format.</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Password:</label>
    <input type="password" id="password" name="password" [(ngModel)]="userModel.password" class="form-control" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$">
    <!--<div *ngIf="registerForm.submitted && registerForm.controls['password']?.invalid" class="text-danger">
      <small *ngIf="registerForm.controls['password']?.errors?.['required']">Password is required.</small>
      <small *ngIf="registerForm.controls['password']?.errors?.['pattern']">Password must contain at least 8 characters, one uppercase letter, and one number.</small>
    </div>

    --->
  </div>

  <div class="mb-3">
    <label for="phoneNumber" class="form-label">Phone Number:</label>
    <input type="text" id="phoneNumber" name="phoneNumber" [(ngModel)]="userModel.phoneNumber" class="form-control" required pattern="^[0-9]{10}$">
    <div *ngIf="registerForm.submitted && registerForm.controls['phoneNumber']?.invalid" class="text-danger">
      <small *ngIf="registerForm.controls['phoneNumber']?.errors?.['required']">Phone number is required.</small>
      <small *ngIf="registerForm.controls['phoneNumber']?.errors?.['pattern']">Phone number must be 10 digits.</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="address" class="form-label">Address:</label>
    <textarea id="address" name="address" [(ngModel)]="userModel.address" class="form-control" required></textarea>
    <div *ngIf="registerForm.submitted && registerForm.controls['address']?.invalid" class="text-danger">
      <small *ngIf="registerForm.controls['address']?.errors?.['required']">Address is required.</small>
    </div>
  </div>

  <button type="submit" class="btn btn-primary">Register</button>
</form>

<div *ngIf="successMessage" class="alert alert-success mt-3">{{ successMessage }}</div>
<div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
